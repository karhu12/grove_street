{% extends "base.html" %}
{% load static %}

{% block content %}
<h1>Welcome!</h1>
<p>Welcome to my website! This website is meant to provide some basic information about me and my past experiences in the software development field.</p>
<p>This webite also stands as a testing ground for me to learn new technologies and work on personal projects.</p>
<hr>
<h2>About this website</h2>
<p>This website has been created using the following technologies:</p>
<img class="tech-icon" src="{% static 'img/django.svg' %}" alt="Django"/>
<img class="tech-icon" src="{% static 'img/html5-01-svgrepo-com.svg' %}" alt="HTML5"/>
<img class="tech-icon" src="{% static 'img/css3-01-svgrepo-com.svg' %}" alt="CSS3"/>
<img class="tech-icon" src="{% static 'img/postgresql-horizontal.svg' %}" alt="Postgre SQL"/>
<img class="tech-icon" src="{% static 'img/gunicorn-svgrepo-com.svg' %}" alt="Gunicorn"/>
<img class="tech-icon" src="{% static 'img/nginx-svgrepo-com.svg' %}" alt="Nginx"/>
<hr>
<h2>Recent blog posts</h2>
{% if latest_posts %}
{% for post in latest_posts %}
<a class="link-class" href="{% url 'blog_post' post.id %}">
    <div class="blog-post-preview-container">
        <h2>{{ post.title }}</h2>
        {% if post.edited_date %}
        <p>Last edited: {{ post.edited_date }}</p>
        {% else %}
        <p>Published: {{ post.published_date }}</p>
        {% endif %}
        <p>Author: {{ post.author }}</p>
        {% if perms.blog %}
        <div class="top-right-container">
            {% if perms.blog.can_edit %}
            <a href="{% url 'blog_post_edit' post.id %}">
                <button class="icon-button" name="edit" type="button">
                    <img src="{% static 'img/edit.svg' %}"/>
                </button>
            </a>
            {% endif %}
            {% if perms.blog.can_remove %}
            <a href="{% url 'blog_post_delete' post.id %}">
                <button class="icon-button" name="delete" type="button">
                    <img src="{% static 'img/delete.svg' %}"/>
                </button>
            </a>
            {% endif %}
        </div>
        {% endif %}
    </div>
</a>
{% endfor %}
{% else %}
<p class="no-blog-posts">No blog posts available!</p>
{% endif %}
{% endblock %}